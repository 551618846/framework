<!DOCTYPE html>

<html  xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>ajaxformtest</title>
        <link href="../../dist/css/asyncbox.css" rel="stylesheet" />
        <link href="../../dist/css/bootstrap.css" rel="stylesheet" />
        <link href="../../dist/css/bootstrap.theme.css" rel="stylesheet" />
        <link href="../../dist/css/bootstrap.datetimepicker.css" rel="stylesheet" />

        <script src="../../dist/js/jquery.js"></script>
        <script src="../../dist/js/asyncbox.js"></script>
        <script src="../../dist/js/bootstrap.js"></script>
        <script src="../../dist/js/bootstrap.datetimepicker.js"></script>

        <script src="../../libs/validate/jquery.validate.js"></script>
        <script src="../../libs/validate/jquery.validate.custom.js"></script>
        <script src="../../libs/validate/jquery.metadata.js"></script>



        <script src="../../libs/framework/controls/ajaxform.js"></script>
        <script src="../../libs/framework/controls/selectbox.js"></script>


        <style>
        h2{background-color:#666666; color:#FFF;}
		h3{ color:#C00; font-weight:bolder;}
		h4{ color:#F60; font-weight:bolder;}
		li{ font-size:16px;}
		
		b{ font-weight:900; font-size:18px; }
		/*xmp{ font-size:16px; font-weight:bolder; color:#FFF}
		pre{ background-color:#049ff1; border-width:thick; border-color:#049ff1; color:#FFF;}*/
		xmp{ font-size:16px; font-weight:bolder;}
		pre{ color:#666666; padding:10px; margin:0; background-color:#FFF;}
		
		
		/*thead{ background-color:#F9F;}
		.shuxing{width:100%; padding:0; margin:0; border:none;}
		.shuxing td{ border:solid #F6F; margin:0; padding:0; font-size:18px; }
		.innertable{width:100%; padding:10px; margin:0; border:none;}
        .innertable td{ border-top:none; border-left:none; border-right:none;}*/
		
		
		#div1 { position:absolute; }
		#left{  list-style:none; border:solid #FFF; background-color:#999;  width:150px; height:200px; text-align:left; padding:0}
		#left li{ font-size:24px; text-align:left; border:#FFF solid; }
		#left li a{color:#FFF;}


     
            

      

      .table-bordered th, .table-bordered td {
    border: 2px solid #f92efb !important;}
      table {background-color: #cbf3fb; max-width: 100%;}
      thead {background-color: #efa1e4;}
      .table-hover > tbody > tr:hover > td, .table-hover > tbody > tr:hover > th {
    background-color: rgba(65, 239, 229, 0.34);}

				
        </style>

        <style>
            input.error {
                border: 1px dotted red;
            }
            label.error {
                color:red;
            }
            input.valid {
                border: 1px dotted green; background-color:#00ff21;
            }
        </style>
        
        
        
        <script type="text/javascript">
            window.onscroll = function () {
                var oDiv = $("#div1")[0];
                var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;

                //oDiv.style.top=scrollTop+(document.documentElement.clientHeight-oDiv.offsetHeight)/2+'px';
                var t = scrollTop + (document.documentElement.clientHeight - oDiv.offsetHeight) / 2;

                startMove(parseInt(t));
            }

            var timer = null;

            function startMove(iTarget) {
                var oDiv = $("#div1")[0];

                clearInterval(timer);
                timer = setInterval(function () {
                    var iSpeed = (iTarget - oDiv.offsetTop) / 8;
                    iSpeed = iSpeed > 0 ? Math.ceil(iSpeed) : Math.floor(iSpeed);

                    if (oDiv.offsetTop == iTarget) {
                        clearInterval(timer);
                    }
                    else {
                        oDiv.style.top = oDiv.offsetTop + iSpeed + 'px';
                    }

                }, 30);
            }
           
        </script>

    <script type="text/javascript">
        jQuery.extend(jQuery.validator.messages, {
            required: "必选字段",
            remote: "请修正该字段",
            email: "请输入正确格式的电子邮件",
            url: "请输入合法的网址",
            date: "请输入合法的日期",
            dateISO: "请输入合法的日期 (ISO).",
            number: "请输入合法的数字",
            digits: "只能输入整数",
            creditcard: "请输入合法的信用卡号",
            equalTo: "请再次输入相同的值",
            accept: "请输入拥有合法后缀名的字符串",
            maxlength: jQuery.validator.format("请输入一个长度最多是 {0} 的字符串"),
            minlength: jQuery.validator.format("请输入一个长度最少是 {0} 的字符串"),
            rangelength: jQuery.validator.format("请输入一个长度介于 {0} 和 {1} 之间的字符串"),
            range: jQuery.validator.format("请输入一个介于 {0} 和 {1} 之间的值"),
            max: jQuery.validator.format("请输入一个最大为 {0} 的值"),
            min: jQuery.validator.format("请输入一个最小为 {0} 的值")
        });

        $().ready(function () {
            $("#aaa").validate({

                rules: {
                    mobile: { mobile: true, required: true },

                    password: {
                        required: true,
                        minlength: 5
                    },
                    confirm_password: {
                        required: true,
                        minlength: 5,
                        equalTo: "#password"
                    }
                },
                messages: {
                    mobile: {
                        required: "请输入mobile",
                        mobile: "请输入正确的mobile"
                    },
                    
                    password: {
                        required: "请输入密码",
                        minlength: jQuery.format("密码不能小于{0}个字符")
                    },
                    confirm_password: {
                        required: "请输入确认密码",
                        minlength: "确认密码不能小于5个字符",
                        equalTo: "两次输入密码不一致不一致"
                    }
                }
            });
        });

        $(function () { $("#dataForm").ajaxForm() });
        $(function () { $(".form2").ajaxForm() });
        $(function () { $(".form3").ajaxForm() });
        $(function () { $(".form4").ajaxForm() });
        $(function () {
            $(".form1").ajaxForm({
                success: function () {
                    alert("OK!!")
                }
            });
        })
    </script>

   
</head>
<body>
    <div id="div1">
    <ul id="left" >
        <li><a href="#summary">简介</a></li>
        <li><a href="#rely">依赖</a></li>
        <li><a href="#contain">包含</a></li>
        <li><a href="#use">使用方法</a></li>
        <li><a href="#property">验证方法</a></li>

    </ul>
    </div>


    
    <div style="width:1200px" align="right">
    
    
     <div style="width:1000px;" align="left">
      <div align="center" ><h1>ajaxform</h1></div>
      
    <div style="height:100px"></div>
      <h2 id="summary">简介</h2>
      <ul>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
      </ul>
      <h4>原始效果示例：</h4>
            
            <pre>             <form id="dataForm" action="/Data/TestPost.ashx" role="form">
                   <button type="submit" >提交</button>
                   </form></pre>
        
            
            
            <pre>
            <xmp>    html部分：
                   <form id="Form1" action="/Data/TestPost.ashx" role="form">
                      <button type="submit" >提交</button>
                   </form>

    js部分：
                   $(function () { $("#dataForm").ajaxForm() })</xmp>
            </pre>

         
      
         <h2 id="rely">依赖</h2>
         <ul>
           <li>jQuery</li>
           <li>验证效果与样色依赖于validate</li>
           <li>操作响应弹窗样色依赖于asyncbox.css</li>
         </ul>
         
         
         <h2 id="contain">包含</h2>
         <h3>&nbsp&nbsp&nbsp&nbsp  JS文件</h3>
         <ul>
           <li>libs/framework/controls/<b>ajaxform.js</b></li>
           <li>libs/validate/<b>jquery.validate.js</b></li>
           <li>libs/validate/<b>jquery.validate.custom.js</b></li>
           <li>libs/validate/<b>jquery.metadata.js</b></li>
             
         </ul>
         <h3>&nbsp&nbsp&nbsp&nbsp  CSS文件</h3>
          <ul>
           <li>dist/css/<b>asyncbox.css</b></li>

         </ul>
         <h2 id="use">使用方法</h2>
          <h3>&nbsp&nbsp&nbsp&nbsp  绑定方法</h3>
           <ul>
             <li>通过以下<b>js绑定相应id或class名称的form标签</b>。</li>
             
           </ul>
           <h4>代码：</h4>
            <pre>
            <xmp>       js部分：       
                $(function ( ) { $("#dataForm").ajaxForm(  ) } )    ******绑定id为dataForm的form标签******</xmp>  
            </pre>
           <ul>
               <li><b>如需要更改ajaxform的默认方法<a href="#default">(点击这里查看默认方法)</a></b>，需要通过以下<b>js绑定相应id或class</b>来实现。</li>

           </ul>
           <h4>例子：设置操作成功响应success的方法</h4>
           <pre>
                <form  class="form1"  action="/Data/TestPost.ashx" role="form">
                   <button type="submit" >提交</button>
                   </form>
            </pre>
        
            <pre>
            <xmp>    js部分：               
                  $(function () {
                     $(".form1").ajaxForm({
                         success: function () {  alert("OK!!") }   **********自定义操作响应成功方法**********
                                         });
                                })
                               
    html部分：
                <form  class="form1"  action="/Data/TestPost.ashx" role="form">
                   <button type="submit" >提交</button>
                </form></xmp>
            </pre>
            
            
           
            <h3 id="default">默认方法</h3>
             <table class="shuxing">
              <thead>
                  
                 <td>属性名</td>
                 <td>描述</td>
                 <td>使用</td>                
                 <td>默认方法</td>
              </thead>
              
              <tr>
                 <td>before</td>
                  <td>
                  提交前执行方法   
                 </td>
                 <td>
                    
      <xmp>  before: function () { 自定义提交前执行方法 } </xmp>
                 </td>                 
                 <td>请参考ajaxform.js文件</td>
                 
              </tr>

              <tr>
                 <td>validate</td>
                 <td>
                   验证方法  
                 </td>
                 <td>
                    
      <xmp>  validate: function () { 自定义验证方法 } </xmp>
                 </td>    
                  <td>请参考ajaxform.js文件</td>
                 
              </tr>

              <tr>
                 <td>success</td>
                  <td>
                   操作成功响应方法 
                 </td>
                 <td>
      <xmp>  success: function () { 自定义操作成功响应方法 }</xmp>
                   
                 </td>
                 
                  
                  <td>请参考ajaxform.js文件</td>
                
              </tr>

              <tr>
                 <td>fail</td>
                  <td>
                   操作失败响应方法 
                 </td>
                 <td>
      <xmp>  fail: function () { 自定义操作失败响应方法 }</xmp>
                   
                 </td>                 
                  <td>请参考ajaxform.js文件</td>
                
              </tr>


              <tr>
                 <td>error</td>
                  <td>
                   操作传输异常响应方法 
                 </td>
                 <td>
      <xmp>  error: function () { 自定义操作传输异常响应方法 }</xmp>
                   
                 </td>         
                  <td>请参考ajaxform.js文件</td>
                
              </tr>
              
                         
           </table> 
           
           
           
          
            
            
           
            
            <h2 id="property">相关验证方法的使用</h2>
         <h3>&nbsp&nbsp&nbsp&nbsp 验证方法的绑定</h3>
           <ul>
             <li>通过设置<b>input标签中的data-rules属性</b>。</li>
             
           </ul>

         <h4>例子：</h4>
         <pre>             
             <form class="form2"  action="/Data/TestPost.ashx" role="form">
                <label>手机</label><input data-rules="{validate:{ mobile:true,messages:{mobile:'手机错了'}}}" />                
                <button type="submit" >提交</button>
        </form></pre>
        
            
            
            <pre>
            <xmp>    html部分：
             <form class="form3"  action="/Data/TestPost.ashx" role="form">
                <label>手机</label>
                <input data-rules="{validate:{ mobile:true,messages:{mobile:'手机错了'}}}" />                 
                <button type="submit" >提交</button>
             </form>

    js部分：
            $(function () { $(".form2").ajaxForm() });</xmp>
            </pre>

         <h4>validate.js中的验证方法和jquery.validate.custom.js中的验证方法可混合使用：</h4>

        
         <pre>             
           <form class="form3"  action="/Data/TestPost.ashx" role="form">
                <label>两位以上英文</label><input data-rules="{validate:{ myEnglish:true,minlength:2,required:true,messages:{myEnglish:'两位以上英文！',minlength:'长度为两位以上！'}}}" />           
                <button type="submit" >提交</button>
        </form></pre>
        
            
            
            <pre>
            <xmp>    html部分：
  <form class="form3"  action="/Data/TestPost.ashx" role="form">
    <label>两位以上英文</label>
    <input data-rules="{validate:{   
                           myEnglish:true,             ****myEnglish是jquery.validate.custom.js中的验证方法***
                           minlength:2,                ******minlength是validate.js中的验证方法*****
                           required:true,              ******required是validate.js中的验证方法******

                           messages:{ myEnglish:'两位以上英文！',            *****通过messages修改验证提示*****
                                      minlength:'长度为两位以上！'}}}" />           
    <button type="submit" >提交</button>
       
  </form>

    js部分：
            $(function () { $(".form3").ajaxForm() });</xmp>
            </pre>
         <h3>&nbsp&nbsp&nbsp&nbsp validate.js中的常用的验证方法,请参考网络的中文API<a href="http://banu.blog.163.com/blog/static/23146482009111941249376/" target="_blank">（点击这里）</a></h3>
         <h3>&nbsp&nbsp&nbsp&nbsp jquery.validate.custom.js中的验证方法</h3>
         


            
           <!--<table class="shuxing" >-->
               <table class="table table-hover table-bordered">
              <thead>
                 <td>属性</td>
                 <td>描述</td>
                 <td>值类型</td>
                 <td>jason中的使用方法</td>
                 <td>默认验证提示</td>
              </thead>
              <tr>
                 <td>myEmail</td>
                 <td>邮箱地址验证</td>
                 <td>boolean</td>
                 <td>myEmail:true</td>
                 <td>请输入正确的邮箱地址</td>
              </tr>
              <tr>
                 <td>mobile</td>
                 <td>手机号码验证</td>
                 <td>boolean</td>
                 <td>mobile:true</td>
                  <td>请输入正确的手机号码</td>
              </tr>
              <tr>
                 <td>htmlText</td>
                 <td>验证HTML格式</td>
                 <td>boolean</td>
                 <td>htmlText:true</td>
                  <td>只能输入：字母、数字、下划线,长度在4~20位字符之间</td>
              </tr>
               <tr>
                 <td>htmlEnCn</td>
                 <td>验证只能输入中英文</td>
                 <td>boolean</td>
                 <td>htmlEnCn:true</td>
                   <td>输入了非法字符</td>
              </tr>
               <tr>
                 <td>myEnglish</td>
                 <td>验证只能输入英文</td>
                 <td>boolean</td>
                 <td>myEnglish:true</td>
                   <td>请输入英文</td>
              </tr>
               <tr>
                 <td>myZipCode</td>
                 <td>验证邮政编码的格式</td>
                 <td>boolean</td>
                 <td>myZipCode:true</td>
                   <td>请输入正确的邮政编码</td>
              </tr>
               <tr>
                 <td>myQQ</td>
                 <td>验证验证QQ是否正确</td>
                 <td>boolean</td>
                 <td>myQQ:true</td>
                   <td>QQ输入有误，请重新输入</td>
              </tr>
               <tr>
                 <td>myIdCard</td>
                 <td>验证身份证是否正确</td>
                 <td>boolean</td>
                 <td>myIdCard:true</td>
                   <td>身份证输入有误，请重新输入</td>
              </tr>
              <tr>
                 <td>myHomePhone</td>
                 <td>验证电话号码是否正确</td>
                 <td>boolean</td>
                 <td>myHomePhone:true</td>
                  <td>请输入正确的电话号码</td>
              </tr>
               <tr>
                 <td>myHeight</td>
                 <td>验证身高是否正确</td>
                 <td>boolean</td>
                 <td>myHeight:true</td>
                   <td>请输入正确的身高</td>
              </tr>
               
               <tr>
                 <td>ajaxEmail</td>
                 <td>异步验证邮箱是否存在</td>
                 <td>boolean</td>
                 <td>ajaxEmail:true</td>
                   <td>邮箱地址已存在，请重新输入</td>
              </tr>
               <tr>
                 <td>compareAge</td>
                 <td>验证年龄</td>
                 <td>boolean</td>
                 <td>compareAge:true</td>
                   <td>结束年龄必须大于开始年龄</td>
              </tr>
               <tr>
                 <td>compareDate</td>
                 <td>验证日期</td>
                 <td>boolean</td>
                 <td>compareDate:true</td>
                   <td>结束日期必须大于开始日期</td>
              </tr>
              
           
              
           </table> 
           
            <h4>例子</h4>
            
            <pre>             
           <form class="form4"  action="/Data/TestPost.ashx" role="form">
                <label>验证邮箱格式</label><input data-rules="{validate:{ myEmail:true,required:true}}" />
                <label>验证邮箱格式（修改验证提示）</label><input data-rules="{validate:{ myEmail:true,required:true,messages:{myEmail:'邮箱错了！！'}}}" />               
                <button type="submit" >提交</button>
        </form></pre>
        
            
            
            <pre>
            <xmp>    html部分：
     <form class="form4"  action="/Data/TestPost.ashx" role="form">

         <label>验证邮箱格式</label>
         <input data-rules="{validate:{ myEmail:true,               ******验证邮箱格式*****
                                         required:true}}" />        ******验证不能为空*****


         <label>验证邮箱格式（修改验证提示）</label>
         <input data-rules="{validate:{ myEmail:true,
                                         required:true,
                                         messages:{myEmail:'邮箱错了！！'}}}" />     ***修改验证提示****            
         <button type="submit" >提交</button>
     </form></xmp></pre>
 
           
   <h3>&nbsp&nbsp&nbsp&nbsp 修改验证提示样色</h3>  
         <ul>
             <li>通过设置以下方法设置<b>验证提示的css样色</b>。</li>
             
           </ul> 
         <pre><xmp>        <style>
            input.error {                   ****修改input标签的验证错误提示样色****
                border: 1px dotted red;    
            }
            label.error {                   ****修改label标签的验证错误提示语言样色****
                color:red;
            }
            input.valid {                   ****修改input标签的验证通过提示样色****
                border: 1px dotted green; background-color:#00ff21;
            }
            

        </style>  </xmp></pre>    
         
         
         
<form id="aaa" style="border:solid blue;"><p>  
<label for="email">E-Mail</label>  
<input id="email" name="email" />  
</p>  
<p>  
<label for="password">Password</label>  
<input id="password" name="password" type="password" />  
</p>  
<p>  
<label for="confirm_password">确认密码</label>  
<input id="confirm_password" name="confirm_password" type="password" />  
</p>

  
    <input type="submit" />


</form> 
         
           
           
           
           
           
           
           
                  
            
        
         
     </div>
    </div>
</body>
</html>