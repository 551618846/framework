<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>测试jquery控制My97DatetimePicker格式 </title>
    <script type="text/javascript" src="../WdatePicker.js"></script>
    <script src="../../../Public/jquery.min.js" type="text/javascript"></script>
</head>
<body>
    <script type="text/javascript">
        $(document).ready(function () {
            $('.time').bind('focus', function () { WdatePicker() });
        });
        function changeAttr1() {
            $('#start').unbind('focus');
            $('#start').bind('focus', function () { WdatePicker({ skin: 'whyGreen', dateFmt: 'yyyy' }); });
            $('#end').unbind('focus');
            $('#end').bind('focus', function () { WdatePicker({ skin: 'whyGreen', dateFmt: 'yyyy', minDate: '#F{$dp.$D(\'start\')}' }); });
        }
        function changeAttr2() {
            $('#start').unbind('focus');
            $('#start').bind('focus', function () { WdatePicker({ skin: 'whyGreen', dateFmt: 'yyyy年MM月' }); });
            $('#end').unbind('focus')
            $('#end').bind('focus', function () { WdatePicker({ skin: 'whyGreen', dateFmt: 'yyyy年MM月', minDate: '#F{$dp.$D(\'start\')}' }); });
        }
        function changeAttr3() {
            $('#start').unbind('focus');
            $('#start').bind('focus', function () { WdatePicker({ skin: 'whyGreen', dateFmt: 'yyyy年M月d日' }); });
            $('#end').unbind('focus');
            $('#end').bind('focus', function () { WdatePicker({ skin: 'whyGreen', dateFmt: 'yyyy年M月d日', minDate: '#F{$dp.$D(\'start\')}' }); });
        }
        function changeAttr4() {
            $('#start').unbind('focus');
            $('#start').bind('focus', function () { WdatePicker({ skin: 'whyGreen', dateFmt: 'yyyy年M月d日 HH时' }); });
            $('#end').unbind('focus');
            $('#end').bind('focus', function () { WdatePicker({ skin: 'whyGreen', dateFmt: 'yyyy年M月d日 HH时', minDate: '#F{$dp.$D(\'start\')}' }); });
        }

    </script>
    <input id="start" class="time" type="text" />
    <input id="end" class="time" type="text" />
    <input id="1" type="button" value="变为年" onclick="changeAttr1()">
    <input id="2" type="button" value="变为月" onclick="changeAttr2()">
    <input id="3" type="button" value="变为日" onclick="changeAttr3()">
    <input id="4" type="button" value="变为时" onclick="changeAttr4()">
</body>
</html>
